
alias docker-ps-last="docker ps | head -n 2 | tail -n 1 | awk '{print \$1}'"
alias docker-image-last="docker images | head -n 2 | tail -n 1 | awk '{print \$3}'"

[alias]
  current-branch = !git branch --contains=HEAD
  branch-root = merge-base master HEAD
  branch-vanish = !git branch | grep -v '*' | grep -v "master" | xargs git branch -D

  revision = !git show -s --format=%H
  rev = !git revision
  rv = !git revision
  current = !git rev HEAD~0 
  prev = !git rev HEAD~1

  ck = checkout
  st = status -s

  break = reset HEAD^
  bk = !git break

  cm = commit
  cma = commit --amend
  amend = commit --amend

  create = !git add . && git commit
  cr = !git create

  final = !git add . && git commit --amend
  fn = !git final
  forget = !git final
  fg = !git final
  cmaf = !git final

  l  = !git log --oneline --date=short --format=\"%C(yellow)%h%C(reset) %C(magenta)[%ad]%C(reset) %s %C(cyan)@%an%C(reset)\" $(git branch-root)..HEAD
  ll = log --oneline --name-status master..

  br = branch

  df = diff
  ds = diff --staged

  remember = !git diff $(git branch-root)
  rr = !git remember
  dig = !git diff $(git merge-base master HEAD) | grep 
  notice = !git diff HEAD^

  names = diff --name-status HEAD^
  changes = !git diff --name-status $(git merge-base master HEAD) 
  now = log -n 1 --oneline 

  history = log --pretty=format:\"%h %ad | %s%d [%an]\" --graph --date=short

  rb = rebase
  surrender = rebase --abort
  abort = rebase --abort

  continue = !git rbc
  cnt = !git rbc

  change-the-world = !git add . && git rebase --continue
  change = !git change-the-world
  ctw = !git change-the-world
  cw = !git change-the-world
  in-about-thirty-years = !git change-the-world

  back-to-the-future = !git rebase -i $(git merge-base master HEAD)
  back = !git back-to-the-future
  bf = !git back-to-the-future
  
  rebase-to = rebase

  one = log --oneline

  refresh = !git checkout master && git pull origin master && git checkout - && git rebase master
  new-world = !git refresh
  nw = !git refresh

  erase = clean -fd
  er = clean -fd
  vanish = !git reset . && git checkout . && git clean -fd  

  stash = stash -u -k

  strike = !git push -f
  before-push = !bash /a/scripts/git/before-push.sh

  gs = !git gentle-strike

  gentle-push = !git before-push && git push
  gp = !git gentle-push

  happy = blame

  wip = commit --allow-empty
